# ================================
# Employee Association Election System
# Backend Environment Variables
# ================================
#
# 이 파일을 복사하여 .env 파일을 생성하고 실제 값으로 변경하세요.
# cp .env.example .env
#
# ⚠️  보안 주의사항:
# - .env 파일은 절대 Git에 커밋하지 마세요 (.gitignore에 포함됨)
# - 프로덕션 환경의 비밀 키는 반드시 강력한 랜덤 문자열을 사용하세요
# - 비밀 키 생성 예시: openssl rand -base64 64

# ================================
# 1. 애플리케이션 기본 설정
# ================================

# 실행 환경: development | staging | production
NODE_ENV=development

# 서버 포트 (기본값: 3000)
PORT=3000

# ================================
# 2. 데이터베이스 (PostgreSQL)
# ================================

# PostgreSQL 연결 문자열
# 형식: postgresql://[사용자명]:[비밀번호]@[호스트]:[포트]/[데이터베이스명]?schema=public
#
# 개발 환경 예시:
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/election_dev?schema=public"
#
# 프로덕션 환경 예시:
# DATABASE_URL="postgresql://election_user:STRONG_PASSWORD@db.example.com:5432/election_prod?schema=public&sslmode=require"
#
# AWS RDS 예시:
# DATABASE_URL="postgresql://election_user:PASSWORD@election-db.xxxxx.ap-northeast-2.rds.amazonaws.com:5432/election_prod?schema=public&sslmode=require"

# ================================
# 3. 인증 및 보안 (🔴 필수)
# ================================

# JWT 서명에 사용할 비밀 키 (필수)
# ⚠️  64자 이상의 강력한 랜덤 문자열 사용 필수
# 생성 방법: openssl rand -base64 64
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production-min-64-characters"

# 투표 익명성 보장을 위한 Ballot Hash Salt (필수)
# ⚠️  64자 이상의 강력한 랜덤 문자열 사용 필수
# ⚠️  이 값이 없으면 투표 익명성이 보장되지 않습니다!
# 생성 방법: openssl rand -base64 64
BALLOT_SECRET_SALT="your-super-secret-ballot-salt-change-this-in-production-min-64-characters"

# ================================
# 4. CORS (Cross-Origin Resource Sharing)
# ================================

# 허용할 프론트엔드 도메인 (쉼표로 구분하여 여러 개 지정 가능)
#
# 개발 환경:
CORS_ORIGIN="http://localhost:3000,http://localhost:3001"
#
# 스테이징 환경 예시:
# CORS_ORIGIN="https://staging.election.company.com,https://staging-admin.election.company.com"
#
# 프로덕션 환경 예시:
# CORS_ORIGIN="https://election.company.com,https://admin.election.company.com"
#
# ⚠️  보안 중요: 프로덕션에서는 절대 "*"를 사용하지 마세요!
# ⚠️  프로덕션에서 미설정 시 모든 CORS 요청이 차단됩니다 (안전).

# ================================
# 5. 이메일 서비스 (OTP 발송용)
# ================================
#
# TODO: 이메일 서비스 구현 시 아래 설정 중 하나를 사용
#
# --- Option 1: SMTP (Gmail, Outlook, 자체 메일 서버 등) ---
# EMAIL_SERVICE=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# EMAIL_FROM="선거시스템 <noreply@example.com>"
#
# --- Option 2: SendGrid ---
# EMAIL_SERVICE=sendgrid
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# EMAIL_FROM="선거시스템 <noreply@example.com>"
#
# --- Option 3: AWS SES (Amazon Simple Email Service) ---
# EMAIL_SERVICE=ses
# AWS_REGION=ap-northeast-2
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=...
# EMAIL_FROM="선거시스템 <noreply@example.com>"

# ================================
# 6. 로깅 및 모니터링 (선택사항)
# ================================

# 로그 레벨: error | warn | log | debug | verbose
LOG_LEVEL=debug

# DataDog APM (선택사항)
# DD_AGENT_HOST=localhost
# DD_TRACE_AGENT_PORT=8126
# DD_SERVICE=election-backend
# DD_ENV=production

# Sentry 에러 추적 (선택사항)
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# ================================
# 7. Rate Limiting (선택사항)
# ================================

# Rate Limiting은 코드에서 기본값 설정되어 있음
# 필요 시 오버라이드 가능:
# THROTTLE_TTL=60000  # 1분 (밀리초)
# THROTTLE_LIMIT=20   # 1분당 최대 요청 수

# ================================
# 8. 기타 설정 (선택사항)
# ================================

# API 문서 활성화 여부 (Swagger)
# ENABLE_API_DOCS=true

# 타임존 설정
# TZ=Asia/Seoul

# ================================
# 환경별 설정 파일 권장 구조
# ================================
#
# .env.local (개발 로컬)
# - NODE_ENV=development
# - DATABASE_URL=postgresql://postgres:postgres@localhost:5432/election_dev
# - CORS_ORIGIN=http://localhost:3000,http://localhost:3001
# - JWT_SECRET / BALLOT_SECRET_SALT = 개발용 값
#
# .env.staging (스테이징)
# - NODE_ENV=staging
# - DATABASE_URL=postgresql://...@staging-db.example.com:5432/election_staging?sslmode=require
# - CORS_ORIGIN=https://staging.election.company.com
# - JWT_SECRET / BALLOT_SECRET_SALT = 스테이징 전용 강력한 값
#
# .env.production (프로덕션)
# - NODE_ENV=production
# - DATABASE_URL=postgresql://...@prod-db.example.com:5432/election_prod?sslmode=require
# - CORS_ORIGIN=https://election.company.com
# - JWT_SECRET / BALLOT_SECRET_SALT = 프로덕션 전용 강력한 랜덤 문자열 (64자 이상)
# - EMAIL_SERVICE 설정 필수
